{% extends "main/index.html" %}

{% macro render_entries() %}
    {% for e in entries %}
        <li class="heading">
            <div class="toolbar dim">
                {% if count and (filter_class in ['unread']) %}
                    <a title="Mark all as read" data-toggle="tooltip" data-placement="bottom" href="{{application_url}}/entries/mark?all" data-remote-modal><i class="fa fa-check-square"></i></a>
                {% elif count and feed_id and filter_class in ['feeds'] %}
                    <a class="popover-trigger" data-container="body" href="#popover-content"><i class="fa fa-cog"></i> Manage</a>
                {% endif %}                  
            </div>
            <h2><span>{{panel_title}} â€º </span><time>{{date}}</time></h2>
        </li>
        <li data-entry="{{e.id}}" class="entry {% if e.id in saved_ids %}status-saved{% endif %} {%if e.id in read_ids %}status-read{% endif %}">
            <div class="item-inner">
                <h3 class="h4">
                    <img class="favicon" src="{{e.feed.icon_or_default}}" width="16" height="16"  alt="*"><a href="{{application_url}}/entries/{{e.id}}?{{filter_name}}">{{e.title}}</a>
                </h3>
                <div class="meta dim">
                    <span class="feed">{{e.feed.title}}</span>
                    <span class="actions">
                        {% if e.id in saved_ids %}<i class="save-trigger icon-saved fa" title="Unsave"></i>{% else %}<i class="save-trigger icon-unsaved fa" title="Save"></i>{%endif%}{% if e.id in read_ids %}<i class="read-trigger icon-read fa" title="Make as unread"></i>{%else%}<i class="read-trigger icon-unread fa" title="Mark as read"></i>{%endif%}                    
                    </span>
                </div>                  
            </div>
        </li>
    {% endfor %}
    {% if offset < count %}
        <li class="more">
            <a href="{{application_url}}/entries/?{{filter_name}}&amp;offset={{offset}}&amp;prev_date={{prev_date}}">More</a>
        </li>
    {% endif %}
{% endmacro %}

{% block panel_block %}
    {% if count %}
        <div class="panel-content">
            <ul class="view list-view">                      
                {{render_entries()}}
            </ul>
        </div>
    {% else %}
        <div class="notice">
            <i class="fa fa-tint fa-4x"></i>
            No entries found.
        </div>
    {%  endif %}
{%  endblock %}